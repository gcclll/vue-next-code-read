<!DOCTYPE html>
<html>
  <body>
    <script type="module">
      import {
        reactive,
        effect,
        targetMap,
        toRaw,
        shallowReactive,
        isReactive
      } from './packages/reactive.js'

      const target = { foo: 1, bar: 2 }
      const n = reactive(target)
      let dum
      effect(() => {
        console.log('updating...')
        dum = n.bar
      })
      /* console.log(targetMap.get(target), 'map') */
      console.log({ dum }, 'before')
      console.log(Object.getOwnPropertyDescriptor(n, 'bar'), 'des')
      delete n.bar
      /* n.bar = 3 */
      console.log({ dum }, 'after')
    </script>
  </body>
</html>
