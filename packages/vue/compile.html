<html>
  <body>
    <div id="app">
      <h1>{{state.count}}</h1>
      <button @[ename]="() => state.count++">加</button>
      <button @[ename]="() => state.count--">减</button>
    </div>
    <!-- -->
    <script src="./vue.global.js"></script>
    <script>
      console.log(Vue, "00");
      const { compile } = Vue;
      let code = `
      <div id="foo" :class="bar.baz">
        {{ world.burn() }}
        <div v-if="ok">yes</div>
        <template v-else>no</template>
        <div v-for="(value, index) in list"><span>{{ value + index }}</span></div>
      </div>
     `;

      // code = `<div id="foo" :class="bar.baz">{{world.burn()}}<div>child</div></div>`;
      // code = `<div><div v-if="ok">yes</div></div>`;

      // code = `<div>{{world.burn()}}</div>`;
      // code = `<div>{{world.burn()}}<div v-if="ok">yes</div></div>`;
      // code = `<div><p v-once>{{ world.burn() }}<p/></div>`
      // code = `<div><p v-once>test v-once</p></div>`;

      // code = `
      // <div>
      //   <div v-if="ok">yes</div>
      //   <div v-else-if="okk">yess</div>
      //   <div v-else>no</div>
      // </div>`;
      code = `
<ul class="list">
  <li v-for="user in users">{{user.name}}</li>
</ul>`;

      const render = compile(code.trim(), {
        sourceMap: true,
        filename: "foo.vue",
      });
      console.log(render, "xx");

      /* const result = render({
       *   world: {
       *     burn() {
       *       return "burn the world !";
       *     },
       *   },
       * }); */
      /* console.log(JSON.stringify(result), "yy"); */
    </script>
  </body>
</html>
